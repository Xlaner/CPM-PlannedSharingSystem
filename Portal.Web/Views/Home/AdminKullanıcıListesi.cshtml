@using Portal.Domain.Entities;
@{
	Layout = "_EmptyLayout";
}
@model UserListPageViewModal

<body>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<div class="d-flex flex-column flex-column-fluid">
		<!--begin::Toolbar-->
		<div id="kt_app_toolbar" class="app-toolbar py-3 py-lg-6">
			<!--begin::Toolbar container-->
			<div id="kt_app_toolbar_container" class="app-container container-xxl d-flex flex-stack">
				<!--begin::Page title-->
				<div class="page-title d-flex flex-column justify-content-center flex-wrap me-3">
					<!--begin::Title-->
					<h1 class="page-heading d-flex text-dark fw-bold fs-3 flex-column justify-content-center my-0">Kullanıcı Listesi</h1>
					<!--end::Title-->
					<!--begin::Breadcrumb-->
					<!--end::Breadcrumb-->
				</div>
				<!--end::Page title-->
				<!--begin::Actions-->
				<div class="d-flex align-items-center gap-2 gap-lg-3">
					<!--begin::Filter menu-->
					<div class="m-0">
						<!--begin::Menu toggle-->
						<!--end::Menu toggle-->
						<!--begin::Menu 1-->
						<div class="menu menu-sub menu-sub-dropdown w-250px w-md-300px" data-kt-menu="true" id="kt_menu_637dc7679e179">
							<!--begin::Header-->
							<!--end::Header-->
							<!--begin::Menu separator-->
							<div class="separator border-gray-200"></div>

							<div class="px-7 py-5">

								<div class="mb-10">

									<label class="form-label fw-semibold">Status:</label>

									<div>
										<select class="form-select form-select-solid select2-hidden-accessible" data-kt-select2="true" data-placeholder="Select option" data-dropdown-parent="#kt_menu_637dc7679e179" data-allow-clear="true" data-select2-id="select2-data-7-tn51" tabindex="-1" aria-hidden="true" data-kt-initialized="1">
											<option data-select2-id="select2-data-9-qebq"></option>
											<option value="1">Approved</option>
											<option value="2">Pending</option>
											<option value="2">In Process</option>
											<option value="2">Rejected</option>
										</select><span class="select2 select2-container select2-container--bootstrap5" dir="ltr" data-select2-id="select2-data-8-se4e" style="width: 100%;"><span class="selection"><span class="select2-selection select2-selection--single form-select form-select-solid" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-disabled="false" aria-labelledby="select2-1oa8-container" aria-controls="select2-1oa8-container"><span class="select2-selection__rendered" id="select2-1oa8-container" role="textbox" aria-readonly="true" title="Select option"><span class="select2-selection__placeholder">Select option</span></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>
									</div>

								</div>

								<div class="mb-10">

									<label class="form-label fw-semibold">Member Type:</label>

									<div class="d-flex">

										<label class="form-check form-check-sm form-check-custom form-check-solid me-5">
											<input class="form-check-input" type="checkbox" value="1">
											<span class="form-check-label">Author</span>
										</label>

										<label class="form-check form-check-sm form-check-custom form-check-solid">
											<input class="form-check-input" type="checkbox" value="2" checked="checked">
											<span class="form-check-label">Customer</span>
										</label>
									</div>
								</div>
								<div class="mb-10">

									<div class="form-check form-switch form-switch-sm form-check-custom form-check-solid">
										<input class="form-check-input" type="checkbox" value="" name="notifications" checked="checked">
										<label class="form-check-label">Enabled</label>
									</div>

								</div>

								<div class="d-flex justify-content-end">
									<button type="reset" class="btn btn-sm btn-light btn-active-light-primary me-2" data-kt-menu-dismiss="true">Reset</button>
									<button type="submit" class="btn btn-sm btn-primary" data-kt-menu-dismiss="true">Apply</button>
								</div>

							</div>

						</div>

					</div>

				</div>
				<!--end::Actions-->
			</div>
			<!--end::Toolbar container-->
		</div>
		<!--end::Toolbar-->
		<!--begin::Content-->
		<div id="kt_app_content" class="app-content flex-column-fluid">
			<!--begin::Content container-->
			<div id="kt_app_content_container" class="app-container container-xxl">
				<!--begin::Card-->
				<div class="card">
					<!--begin::Card header-->
					<div class="card-header border-0 pt-6">
						<!--begin::Card title-->
						<div class="card-title">
							<!--begin::Search-->
							<div class="d-flex align-items-center position-relative my-1">
								<!--begin::Svg Icon | path: icons/duotune/general/gen021.svg-->
								<!--end::Svg Icon-->

							</div>
							<!--end::Search-->
						</div>
						<!--begin::Card title-->
						<!--begin::Card toolbar-->
						<div class="card-toolbar">
							<!--begin::Toolbar-->
							<div class="d-flex justify-content-end" data-kt-user-table-toolbar="base">
								<!--begin::Filter-->
								<!--begin::Menu 1-->
								<div class="menu menu-sub menu-sub-dropdown w-300px w-md-325px" data-kt-menu="true">
									<!--begin::Header-->
									<div class="px-7 py-5">
										<div class="fs-5 text-dark fw-bold">Filter Options</div>
									</div>
									<!--end::Header-->
									<!--begin::Separator-->
									<div class="separator border-gray-200"></div>
									<!--end::Separator-->
									<!--begin::Content-->
									<div class="px-7 py-5" data-kt-user-table-filter="form">
										<!--begin::Input group-->
										<div class="mb-10">
											<label class="form-label fs-6 fw-semibold">Role:</label>
											<select class="form-select form-select-solid fw-bold select2-hidden-accessible" data-kt-select2="true" data-placeholder="Select option" data-allow-clear="true" data-kt-user-table-filter="role" data-hide-search="true" data-select2-id="select2-data-10-9q97" tabindex="-1" aria-hidden="true" data-kt-initialized="1">
												<option data-select2-id="select2-data-12-a09x"></option>
												<option value="Administrator">Administrator</option>
												<option value="Analyst">Analyst</option>
												<option value="Developer">Developer</option>
												<option value="Support">Support</option>
												<option value="Trial">Trial</option>
											</select><span class="select2 select2-container select2-container--bootstrap5" dir="ltr" data-select2-id="select2-data-11-nkd5" style="width: 100%;"><span class="selection"><span class="select2-selection select2-selection--single form-select form-select-solid fw-bold" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-disabled="false" aria-labelledby="select2-931o-container" aria-controls="select2-931o-container"><span class="select2-selection__rendered" id="select2-931o-container" role="textbox" aria-readonly="true" title="Select option"><span class="select2-selection__placeholder">Select option</span></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>
										</div>

										<div class="mb-10">
											<label class="form-label fs-6 fw-semibold">Two Step Verification:</label>
											<select class="form-select form-select-solid fw-bold select2-hidden-accessible" data-kt-select2="true" data-placeholder="Select option" data-allow-clear="true" data-kt-user-table-filter="two-step" data-hide-search="true" data-select2-id="select2-data-13-96s7" tabindex="-1" aria-hidden="true" data-kt-initialized="1">
												<option data-select2-id="select2-data-15-pjnu"></option>
												<option value="Enabled">Enabled</option>
											</select><span class="select2 select2-container select2-container--bootstrap5" dir="ltr" data-select2-id="select2-data-14-k0sw" style="width: 100%;"><span class="selection"><span class="select2-selection select2-selection--single form-select form-select-solid fw-bold" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-disabled="false" aria-labelledby="select2-o818-container" aria-controls="select2-o818-container"><span class="select2-selection__rendered" id="select2-o818-container" role="textbox" aria-readonly="true" title="Select option"><span class="select2-selection__placeholder">Select option</span></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span></span></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>
										</div>



									</div>

								</div>
								<button type="button" class="btn btn-primary" style="font-weight:bold; font-size:16px;" id="KullanıcıEkle">Yeni Etkinlik Ekle</button>

							</div>

							<div class="d-flex justify-content-end align-items-center d-none" data-kt-user-table-toolbar="selected">
								<div class="fw-bold me-5">
									<span class="me-2" data-kt-user-table-select="selected_count"></span>Selected
								</div>
								<button type="button" class="btn btn-danger" data-kt-user-table-select="delete_selected">Delete Selected</button>
							</div>

							<div class="modal fade" id="kt_modal_export_users" tabindex="-1" aria-hidden="true">
							</div>

						</div>

					</div>

					<div class="card-body py-4">

						<div id="kt_table_users_wrapper" class="dataTables_wrapper dt-bootstrap4 no-footer">
							<div class="table-responsive">
								<table class="table align-middle table-row-dashed fs-6 gy-5 dataTable no-footer" id="kt_table_users">

									<thead>

										<tr class="text-start text-muted fw-bold fs-7 text-uppercase gs-0">
											<th class="w-10px pe-2 sorting_disabled" rowspan="1" colspan="1" aria-label="



														" style="width: 29.9px;">
												<div class="form-check form-check-sm form-check-custom form-check-solid me-3">
												</div>
											</th>
											<th class="min-w-125px sorting" tabindex="0" aria-controls="kt_table_users" rowspan="1" colspan="1" aria-label="User: activate to sort column ascending" style="width: 248.512px;">Kullanıcı</th>
											<th class="min-w-125px sorting" tabindex="0" aria-controls="kt_table_users" rowspan="1" colspan="1" aria-label="Role: activate to sort column ascending" style="width: 145.087px;">Rolü</th>
											<th class="min-w-125px sorting" tabindex="0" aria-controls="kt_table_users" rowspan="1" colspan="1" aria-label="Last login: activate to sort column ascending" style="width: 145.087px;">Kullanıcı Id</th>
											@*<th class="min-w-125px sorting" tabindex="0" aria-controls="kt_table_users" rowspan="1" colspan="1" aria-label="Two-step: activate to sort column ascending" style="width: 145.087px;"></th>*@
											<th class="min-w-125px sorting" tabindex="0" aria-controls="kt_table_users" rowspan="1" colspan="1" aria-label="Joined Date: activate to sort column ascending" style="width: 186.2px;">Eklenme Tarihi</th>
											<th class="text-end min-w-100px sorting_disabled" rowspan="1" colspan="1" aria-label="Actions" style="width: 116.425px;">Aksiyon</th>
										</tr>

									</thead>

									<tbody class="text-gray-600 fw-semibold">

										@*@for (var x =0; x< Model.Count(); x++)
										{

										var item = Model[x];
										@Html.Partial("~/Views/PartialView/_UserlistAdmin.cshtml", item)

										}*@
										@foreach (var item in Model.User)
										{
											@Html.Partial("~/Views/PartialView/_UserlistAdmin.cshtml", item)
											;
										}


									</tbody>

								</table>
							</div>

						</div>

					</div>

				</div>

			</div>

		</div>

	</div>

	<form method="post" action="KullanıcıEkle" enctype="multipart/form-data">
		<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h1 class="form-group" id="exampleModalLabel">YENİ KULLANICI EKLE</h1>
					</div>
					<div class="modal-body">

						<h3>Kullanıcı Adı</h3>
						<div class="form-group" id="Username"> @Html.TextBoxFor(elm=>elm.SingleUser.UserName, new {@class = "form-control", @type="text", @value = Model?.SingleUser.UserName}) </div>


						<h3>Kullanıcı Şifresi</h3>
						<div class="form-group"  id="password"> @Html.TextBoxFor(elm=>elm.SingleUser.Password, new {@class = "form-control", @type="password", @placeholder="Etkinlik adını giriniz...", @value = Model?.SingleUser.Password}) </div>

						<h3>Kullanıcı Rolü</h3>
						<div class="form-group"  id="Role"> @Html.TextBoxFor(elm=>elm.SingleUser.Role, new {@class = "form-control", @type="text", @placeholder="Etkinlik metnini giriniz...", @value = Model?.SingleUser.Role}) </div>
						
						@{
							if(Model.SingleUser.UserName != null)
							{
								<script>
                     
									document.getElementById("Username").querySelector("input").value = "";
									document.getElementById("password").querySelector("input").value = "";
									document.getElementById("Role").querySelector("input").value = "";
           
								</Script>
								
							}
						}
					</div>

					<div class="modal-footer">
						<button type="button" class="btn btn-secondary"  id="ModalKapat">İptal</button>
						<button type="submit" class="btn btn-primary">Kaydet</button>
					</div>
				</div>
			</div>
		</div>
	</form>
	<script>

		$('body').on('click', '#KullanıcıEkle', function () {
			$(".modal").modal('show');
		})
		$('body').on('click', '#ModalKapat', function () {
			$(".modal").modal('hide');
			$(".modal-backdrop").remove(); // Bu satır modal backdrop'ı kaldıracaktır.
		});
	</script>

</body>

<head>
	
</head>